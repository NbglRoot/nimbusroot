import{h as H,i as P,j as M,k as R,m as D}from"./chunk-NLQYJSTK.js";import{Ba as g,Fa as u,La as s,Ma as e,Na as t,Oa as m,Pa as N,Q as T,Sa as _,Ta as f,Ua as x,V as b,Va as O,W as I,Wa as a,X as v,Xa as d,Y as p,Ya as y,Z as h,Za as S,_a as C,d as A,la as w,sa as n}from"./chunk-DXCNVZGA.js";var W="&apikey=PF6YuNMLjexkYjkLQEHVlALjCLvrYNCZ";function k(l,r){l&1&&(e(0,"h2",7),a(1," No hay nada que Mostrar. "),m(2,"br"),a(3," Busque la "),e(4,"b",8),a(5,"ciudad"),t(),a(6,` que desea.
`),t())}function z(l,r){if(l&1){let i=N();e(0,"div",9)(1,"button",10),_("click",function(){I(i);let c=f();return v(c.getDailyWeather())}),a(2,"D\xEDas"),t(),e(3,"button",10),_("click",function(){I(i);let c=f();return v(c.getHourlyWeather())}),a(4,"Horas"),t()()}}function B(l,r){if(l&1&&(e(0,"tr",45)(1,"td",22),a(2),y(3,"date"),t(),e(4,"td",22),a(5),t(),e(6,"td",22),a(7),t(),e(8,"td",22),a(9),t()()),l&2){let i=r.$implicit;n(2),d(" ",S(3,4,i.time,"dd/MM/yyyy")," "),n(3),d(" ",i.values.temperatureAvg,"\xBAC "),n(2),d(" ",i.values.temperatureMin,"\xBAC "),n(2),d(" ",i.values.temperatureMax,"\xBAC ")}}function V(l,r){if(l&1&&(e(0,"tr",45)(1,"td",22),a(2),y(3,"date"),t(),e(4,"td",22),a(5),t(),e(6,"td",22),a(7),t(),e(8,"td",22),a(9),t()()),l&2){let i=r.$implicit;n(2),d(" ",S(3,4,i.time,"dd/MM/yyyy")," "),n(3),d(" ",i.values.humidityAvg,"% "),n(2),d(" ",i.values.humidityMin,"% "),n(2),d(" ",i.values.humidityMax,"% ")}}function Y(l,r){if(l&1&&(e(0,"tr",45)(1,"td",22),a(2),y(3,"date"),t(),e(4,"td",22),a(5),t(),e(6,"td",22),a(7),t(),e(8,"td",22),a(9),t()()),l&2){let i=r.$implicit;n(2),d(" ",S(3,4,i.time,"dd/MM/yyyy")," "),n(3),d(" ",i.values.precipitationProbabilityAvg,"% "),n(2),d(" ",i.values.precipitationProbabilityMin,"% "),n(2),d(" ",i.values.precipitationProbabilityMax,"% ")}}function j(l,r){if(l&1&&(e(0,"div",11)(1,"span",12),m(2,"span",13),e(3,"span",14),a(4," Temperatura "),p(),e(5,"svg",15)(6,"g",16)(7,"g"),m(8,"path",17)(9,"path",18),t()()()(),h(),m(10,"span",13),t(),e(11,"table",19)(12,"thead",20)(13,"tr",21)(14,"th",22),a(15,"Dia/Mes/A\xF1o"),t(),e(16,"th",22),a(17,"Avg\xBA"),t(),e(18,"th",22),a(19,"Min\xBA"),t(),e(20,"th",22),a(21,"Max\xBA"),t()()(),e(22,"tbody",23),u(23,B,10,7,"tr",24),t()(),e(24,"div",25)(25,"div",26)(26,"span",12),m(27,"span",13),e(28,"span",27),a(29," Humedad "),p(),e(30,"svg",28),m(31,"path",29)(32,"path",30)(33,"path",31)(34,"path",32),t()(),h(),m(35,"span",13),t(),e(36,"table",19)(37,"thead",20)(38,"tr",21)(39,"th",22),a(40,"Dia/Mes/A\xF1o"),t(),e(41,"th",22),a(42,"Avg"),t(),e(43,"th",22),a(44,"Min"),t(),e(45,"th",22),a(46,"Max"),t()()(),e(47,"tbody",23),u(48,V,10,7,"tr",24),t()()(),e(49,"div",33)(50,"span",12),m(51,"span",13),e(52,"span",34),a(53," Probabilidad de Precipitaci\xF3n "),p(),e(54,"svg",35),m(55,"circle",36),e(56,"g"),m(57,"path",37)(58,"path",38)(59,"path",39)(60,"path",40)(61,"path",41)(62,"path",42)(63,"path",43)(64,"path",44),t()()(),h(),m(65,"span",13),t(),e(66,"table",19)(67,"thead",20)(68,"tr",21)(69,"th",22),a(70,"Dia/Mes/A\xF1o"),t(),e(71,"th",22),a(72,"Avg"),t(),e(73,"th",22),a(74,"Min"),t(),e(75,"th",22),a(76,"Max"),t()()(),e(77,"tbody",23),u(78,Y,10,7,"tr",24),t()()()()()),l&2){let i=f();n(3),x("title","Temperatura Diaria de: ",i.locationNameSearched,""),n(20),s("ngForOf",i.API_WEATHER_JSON_DAILY),n(5),x("title","Humedad Diaria de: ",i.locationNameSearched,""),n(20),s("ngForOf",i.API_WEATHER_JSON_DAILY),n(4),x("title","Probabilidad de Precipitaci\xF3n Diaria de: ",i.locationNameSearched,""),n(26),s("ngForOf",i.API_WEATHER_JSON_DAILY)}}function U(l,r){if(l&1&&(e(0,"tr",45)(1,"td",22),a(2),y(3,"date"),t(),e(4,"td",22),a(5),t(),e(6,"td",22),a(7),t(),e(8,"td",22),a(9),t()()),l&2){let i=r.$implicit;n(2),d(" ",S(3,4,i.time,"hh:mm a")," "),n(3),d(" ",i.values.temperature,"\xBAC "),n(2),d(" ",i.values.humidity,"% "),n(2),d(" ",i.values.precipitationProbability,"% ")}}function q(l,r){if(l&1&&(e(0,"div",46)(1,"span",12),m(2,"span",13),e(3,"span",14),a(4," Temperatura / Precipitaci\xF3n / Humedad "),t(),m(5,"span",13),t(),e(6,"table",47)(7,"thead",20)(8,"tr",21)(9,"th",22),a(10,"Hora/Minutos"),t(),e(11,"th",22),a(12,"Temperatura\xBA"),t(),e(13,"th",48),a(14,"Probabilidad "),m(15,"br"),a(16," de "),m(17,"br"),a(18," Precipitaciones %"),t(),e(19,"th",22),a(20,"Humedad %"),t()()(),e(21,"tbody",23),u(22,U,10,7,"tr",24),t()()()),l&2){let i=f();n(3),x("title","Temperatura Diaria de: ",i.locationNameSearched,""),n(19),s("ngForOf",i.API_WEATHER_JSON_HOUR)}}function G(l,r){}var E=class l{platformId=T(w);locationNameSearched;API_WEATHER_JSON_DAILY=[];API_WEATHER_JSON_HOUR=[];WEATHER_OPTION="daily";URL_API="https://api.tomorrow.io/v4/weather/forecast?location=";API_KEY=W;ngOnInit(){D(this.platformId)&&(this.API_WEATHER_JSON_DAILY=JSON.parse(sessionStorage.getItem("API_WEATHER_JSON_DAILY")||"{}"),this.API_WEATHER_JSON_HOUR=JSON.parse(sessionStorage.getItem("API_WEATHER_JSON_HOUR")||"{}"),this.locationNameSearched=sessionStorage.getItem("locationNameSearched")||"",this.WEATHER_OPTION=sessionStorage.getItem("WEATHER_OPTION")||"daily")}ngOnChanges(r){if(this.locationNameSearched&&r.locationNameSearched.currentValue!==void 0)try{this.getDailyWeather()}catch(i){console.log(i)}}getDailyWeather(){this.WEATHER_OPTION="daily",sessionStorage.setItem("WEATHER_OPTION",this.WEATHER_OPTION),document.querySelector("#locationNameSearched").classList.add("animate-pulse");let r=this.URL_API+this.locationNameSearched?.toLowerCase()+this.API_KEY;this.API_WEATHER_JSON_DAILY=[];let i=this.getAPIResponse(r);setTimeout(()=>{document.querySelector("#locationNameSearched").classList.remove("animate-pulse")},2e3),i.then(o=>{if(o.code===429001)throw alert(`Demasidas llamadas a la API. 
Vuelva a intentarlo mas tarde.`),new Error("Demasidas llamadas a la API");if(o.code&&o.code===400001)alert("No se pudo encontrar la localizaci\xF3n buscada"),location.reload();else{for(let c=0;c<o.timelines.daily.length;c++)this.API_WEATHER_JSON_DAILY.push(o.timelines.daily[c]);sessionStorage.setItem("API_WEATHER_JSON_DAILY",JSON.stringify(this.API_WEATHER_JSON_DAILY)),sessionStorage.setItem("locationNameSearched",this.locationNameSearched)}})}getHourlyWeather(){if(this.locationNameSearched){this.WEATHER_OPTION="hourly",sessionStorage.setItem("WEATHER_OPTION",this.WEATHER_OPTION),document.querySelector("#locationNameSearched").classList.add("animate-pulse");let r=this.URL_API+this.locationNameSearched.toLowerCase()+this.API_KEY;this.API_WEATHER_JSON_HOUR=[];let i=this.getAPIResponse(r);setTimeout(()=>{document.querySelector("#locationNameSearched").classList.remove("animate-pulse")},2e3),i.then(o=>{for(let c=0;c<11;c++)this.API_WEATHER_JSON_HOUR.push(o.timelines.hourly[c]);sessionStorage.setItem("API_WEATHER_JSON_HOUR",JSON.stringify(this.API_WEATHER_JSON_HOUR))})}}getAPIResponse(r){return A(this,null,function*(){return yield(yield fetch(r)).json()})}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=g({type:l,selectors:[["app-weather-table-daily"]],inputs:{locationNameSearched:"locationNameSearched"},features:[b],decls:9,vars:11,consts:[["emptyOptions",""],["id","locationNameSearched",1,"text-center","mb-5"],[1,"text-3xl","first-letter:uppercase",3,"title"],["class","my-30 text-center text-2xl",4,"ngIf","ngIfElse"],["id","weatherOptions","class","flex flex-wrap gap-5 p-3 justify-center",4,"ngIf","ngIfElse"],["id","tableDaily","class","max-w-[900px] mx-auto overflow-x-auto *:my-10 animate__animated animate__fadeIn",4,"ngIf","ngIfElse"],["id","tableHourly","class","max-w-[900px] mx-auto overflow-x-auto *:my-10 animate__animated animate__fadeIn",4,"ngIf","ngIfElse"],[1,"my-30","text-center","text-2xl"],[1,"text-amber-100"],["id","weatherOptions",1,"flex","flex-wrap","gap-5","p-3","justify-center"],["type","button",1,"p-3.5","focus:bg-blue-900/75","rounded-2xl","bg-gray-800/75","border","border-gray-800","hover:bg-gray-800","hover:border-gray-700",3,"click"],["id","tableDaily",1,"max-w-[900px]","mx-auto","overflow-x-auto","*:my-10","animate__animated","animate__fadeIn"],[1,"flex","items-center"],[1,"h-px","flex-1","bg-gray-300","dark:bg-gray-600"],[1,"shrink-0","hover:*:animate-pulse","px-4","flex","flex-wrap","justify-center","items-center","text-gray-900","dark:text-white",3,"title"],["fill","#fff","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"size-10"],["id","Temp_High","data-name","Temp High"],["d","M14.863,13.4V4.939a2.929,2.929,0,0,0-.84-2.03,2.859,2.859,0,0,0-2.23-.82,2.948,2.948,0,0,0-2.66,3l.01,8.28a4.755,4.755,0,0,0,1.9,8.46,5.093,5.093,0,0,0,.95.09,4.759,4.759,0,0,0,4.76-4.75A4.684,4.684,0,0,0,14.863,13.4Zm-.48,6.66a3.783,3.783,0,0,1-3.15.78,3.7,3.7,0,0,1-2.92-2.98,3.745,3.745,0,0,1,1.43-3.69.962.962,0,0,0,.39-.77V5.089a1.968,1.968,0,0,1,1.73-2,.66.66,0,0,1,.14-.01,1.878,1.878,0,0,1,1.86,1.86V13.4a.962.962,0,0,0,.39.77,3.742,3.742,0,0,1,.13,5.89Z"],["d","M13.893,17.169a1.89,1.89,0,0,1-3.78,0,1.858,1.858,0,0,1,1.39-1.81V5.4a.5.5,0,0,1,1,0v9.96A1.869,1.869,0,0,1,13.893,17.169Z"],[1,"w-full","divide-y-2","divide-gray-700","rounded-md","bg-gray-800"],[1,"ltr:text-left","rtl:text-right"],[1,"*:font-medium","*:text-white"],[1,"px-3","py-2","whitespace-nowrap"],[1,"divide-y","divide-gray-700","*:even:bg-gray-700"],["class","*:first:font-medium *:text-white",4,"ngFor","ngForOf"],["id","table-moreInfo",1,"md:flex","gap-1","justify-between","*:my-10","animate__animated","animate__fadeIn","animate__slower"],["id","humidity",1,"md:w-[49%]","*:my-2"],[1,"flex","gap-1","hover:*:animate-pulse","flex-wrap","justify-center","items-center","shrink-0","px-4","text-gray-900","dark:text-white",3,"title"],["width","35px","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg",1,"icon"],["d","M339.7 882.5C196.6 882.5 80.2 766.1 80.2 623c0-133.2 204.8-395.1 228.2-424.5 5.8-7.3 14.5-11.6 23.8-11.7 9.4-0.1 18.1 3.9 24.1 11 1.5 1.8 37.7 44.8 82.2 105.2 10.1 13.8 7.2 33.2-6.6 43.3-13.8 10.1-33.2 7.2-43.3-6.6-21.3-29-40.9-54-55.3-72.1-69.2 92-191.2 271.5-191.2 355.4 0 108.9 88.6 197.6 197.6 197.6S537.3 731.9 537.3 623c0-17.1 13.9-31 31-31s31 13.9 31 31c-0.1 143.1-116.5 259.5-259.6 259.5z","fill","#fff"],["d","M363.7 468.8c-27.9 59.7-46.8 115.7-46.8 158.4 0 164.6 133.4 298 298 298s298-133.4 298-298c0-12.8-1.9-26.9-5.5-41.9-327.2 33.9-284.9-194.9-543.7-116.5z","fill","#00B36A"],["d","M333.6 567.6c-38.2 239.9 123 357.7 287.3 357.7 92.8 0 144.9-12.1 199.6-78.6-261.5 20.7-428.7-99.2-486.9-279.1z","fill","#009957"],["d","M614.9 956.1C433.5 956.1 286 808.5 286 627.2c0-173.4 283.4-532.4 295.5-547.6 5.8-7.3 14.5-11.6 23.8-11.7 9.3-0.1 18.1 3.9 24.1 11 2 2.3 49 58.2 106.8 136.6 10.1 13.8 7.2 33.2-6.6 43.3-13.8 10.1-33.2 7.2-43.3-6.6-31.8-43.2-60.6-79.8-79.9-103.7C517 266.1 347.9 512.3 347.9 627.2c0 147.2 119.8 267 267 267s267-119.8 267-267c0-29.7-13.2-87.9-76.4-196.2-8.6-14.8-3.6-33.7 11.2-42.3 14.8-8.6 33.7-3.6 42.3 11.2 57.1 97.9 84.8 172.2 84.8 227.4 0 181.3-147.6 328.8-328.9 328.8z","fill","#fff"],["id","precipitaition",1,"md:w-[49%]","*:my-2"],[1,"flex","flex-wrap","hover:*:animate-pulse","justify-center","items-center","gap-2","shrink-0","px-4","text-gray-900","dark:text-white",3,"title"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 480 480",0,"xml","space","preserve",1,"size-8"],["cx","341.632","cy","136.468","r","136",2,"fill","#fcb641"],["d",`M89.992,479.532c-1.352,0-2.728-0.344-3.992-1.072c-3.832-2.208-5.136-7.104-2.928-10.928l28-48.496
		c2.208-3.824,7.096-5.152,10.928-2.928c3.832,2.208,5.136,7.104,2.928,10.928l-28,48.496
		C95.448,478.1,92.76,479.532,89.992,479.532z`,2,"fill","#92c7d3"],["d",`M137.992,479.532c-1.352,0-2.728-0.344-3.992-1.072c-3.832-2.208-5.136-7.104-2.928-10.928
		l28-48.496c2.208-3.824,7.088-5.152,10.928-2.928c3.832,2.208,5.136,7.104,2.928,10.928l-28,48.496
		C143.448,478.1,140.76,479.532,137.992,479.532z`,2,"fill","#92c7d3"],["d",`M185.992,479.532c-1.352,0-2.728-0.344-3.992-1.072c-3.832-2.208-5.136-7.104-2.928-10.928
		l28-48.496c2.208-3.824,7.088-5.152,10.928-2.928c3.832,2.208,5.136,7.104,2.928,10.928l-28,48.496
		C191.448,478.1,188.76,479.532,185.992,479.532z`,2,"fill","#92c7d3"],["d",`M233.992,479.532c-1.352,0-2.728-0.344-3.992-1.072c-3.832-2.208-5.136-7.104-2.928-10.928
		l28-48.496c2.208-3.824,7.096-5.152,10.928-2.928c3.832,2.208,5.136,7.104,2.928,10.928l-28,48.496
		C239.448,478.1,236.76,479.532,233.992,479.532z`,2,"fill","#92c7d3"],["d",`M281.992,479.532c-1.352,0-2.728-0.344-3.992-1.072c-3.832-2.208-5.136-7.104-2.928-10.928
		l28-48.496c2.208-3.824,7.088-5.152,10.928-2.928c3.832,2.208,5.136,7.104,2.928,10.928l-28,48.496
		C287.448,478.1,284.76,479.532,281.992,479.532z`,2,"fill","#92c7d3"],["d",`M329.992,479.532c-1.352,0-2.728-0.344-3.992-1.072c-3.832-2.208-5.136-7.104-2.928-10.928
		l28-48.496c2.208-3.824,7.088-5.152,10.928-2.928c3.832,2.208,5.136,7.104,2.928,10.928l-28,48.496
		C335.448,478.1,332.76,479.532,329.992,479.532z`,2,"fill","#92c7d3"],["d",`M377.992,479.532c-1.352,0-2.728-0.344-3.992-1.072c-3.832-2.208-5.136-7.104-2.928-10.928
		l28-48.496c2.216-3.824,7.096-5.152,10.928-2.928c3.832,2.208,5.136,7.104,2.928,10.928l-28,48.496
		C383.448,478.1,380.76,479.532,377.992,479.532z`,2,"fill","#92c7d3"],["d",`M426.208,275.284c-1.12,0-42.648,0-42.648,0c0.744-8,1.24-8.688,1.256-13.472
		c0.128-42.672-28.36-79.952-70.032-89.136c-23.752-5.232-46.424-1.368-65.184,8.76c-22.888-34.064-60.808-57.04-104.272-59.696
		c-5.592-0.768-11.256-1.224-17.056-1.224C57.432,120.516,0,179.78,0,252.836c0,38.072,15.688,72.304,40.648,96.44
		c22.072,24.488,52.72,40.312,89.008,42.944c0,0,295.432,1.464,296.552,1.464c29.712,0,53.792-27.208,53.792-59.208
		C480,302.492,455.912,275.284,426.208,275.284z`,2,"fill","#92c7d3"],[1,"*:first:font-medium","*:text-white"],["id","tableHourly",1,"max-w-[900px]","mx-auto","overflow-x-auto","*:my-10","animate__animated","animate__fadeIn"],[1,"w-max","mx-auto","divide-y-2","align-middle","text-center","divide-gray-700","rounded-md","bg-gray-800"],[1,"px-3","py-2","whitespace-nowrap","text-center"]],template:function(i,o){if(i&1&&(e(0,"div",1)(1,"h3",2),a(2),t()(),u(3,k,7,0,"h2",3)(4,z,5,0,"div",4)(5,j,79,9,"div",5)(6,q,23,3,"div",6)(7,G,0,0,"ng-template",null,0,C)),i&2){let c=O(8);n(),x("title","Localizaci\xF3n buscada: ",o.locationNameSearched,""),n(),d(" ",o.locationNameSearched," "),n(),s("ngIf",o.locationNameSearched=="")("ngIfElse",c),n(),s("ngIf",o.locationNameSearched!="")("ngIfElse",c),n(),s("ngIf",o.WEATHER_OPTION==="daily"&&o.locationNameSearched!="")("ngIfElse",c),n(),s("ngIf",o.WEATHER_OPTION==="hourly"&&o.locationNameSearched!="")("ngIfElse",c)}},dependencies:[R,H,P,M],encapsulation:2})};var L=class l{locationSearched="";getLocationNameSearched(){event?.preventDefault(),this.locationSearched=document.querySelector("#searchLocation").value,document.querySelector("#searchLocation").value=""}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=g({type:l,selectors:[["app-home"]],decls:15,vars:1,consts:[[1,"*:max-w-[1400px]","*:mx-auto","*:px-3","*:my-10","gap-10","animate__animated","animate__fadeIn"],["id","formSearchWeatherInLocationSection"],[3,"submit"],[1,"input-group","relative","max-w-md","mx-auto"],["for","searchLocation",1,"absolute","right-0","top-0","bottom-0","pt-2","px-3"],["version","1.0","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 64 64","enable-background","new 0 0 64 64",0,"xml","space","preserve",1,"size-8"],["fill","#F76D57","d",`M32,52.789l-12-18C18.5,32,16,28.031,16,24c0-8.836,7.164-16,16-16s16,7.164,16,16
		c0,4.031-2.055,8-4,10.789L32,52.789z`],["fill","#394240","d",`M32,0C18.746,0,8,10.746,8,24c0,5.219,1.711,10.008,4.555,13.93c0.051,0.094,0.059,0.199,0.117,0.289
			l16,24C29.414,63.332,30.664,64,32,64s2.586-0.668,3.328-1.781l16-24c0.059-0.09,0.066-0.195,0.117-0.289
			C54.289,34.008,56,29.219,56,24C56,10.746,45.254,0,32,0z M44,34.789l-12,18l-12-18C18.5,32,16,28.031,16,24
			c0-8.836,7.164-16,16-16s16,7.164,16,16C48,28.031,45.945,32,44,34.789z`],["fill","#394240","cx","32","cy","24","r","8"],["placeholder","Ingresa una ubicaci\xF3n...","type","text","name","locationInput","id","searchLocation",1,"w-full","p-3","rounded-md","bg-gray-800","focus:bg-gray-800/75","focus:outline-1","outline-gray-700","outline-offset-2"],["type","submit","name","submitSearchedLocation",1,"hidden"],["id","weatherDailySection"],[3,"locationNameSearched"]],template:function(i,o){i&1&&(e(0,"main",0)(1,"section",1)(2,"form",2),_("submit",function(){return o.getLocationNameSearched()}),e(3,"div",3)(4,"label",4),p(),e(5,"svg",5)(6,"g"),m(7,"path",6),e(8,"g"),m(9,"path",7)(10,"circle",8),t()()()(),h(),m(11,"input",9),t(),m(12,"input",10),t()(),e(13,"section",11),m(14,"app-weather-table-daily",12),t()()),i&2&&(n(14),s("locationNameSearched",o.locationSearched))},dependencies:[E],encapsulation:2})};export{L as HomeComponent};
